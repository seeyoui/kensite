/*!
 * zeroclipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie, and a JavaScript interface.
 * Copyright 2012 Jon Rohan, James M. Greene, .
 * Released under the MIT license
 * http://zeroclipboard.github.com/ZeroClipboard/
 * v1.2.0-beta.1
 */
(function(){var m=function(s,u){var t=s.style[u];if(s.currentStyle){t=s.currentStyle[u]}else{if(window.getComputedStyle){t=document.defaultView.getComputedStyle(s,null).getPropertyValue(u)}}if(t=="auto"&&u=="cursor"){var q=["a","div"];for(var r=0;r<q.length;r++){if(s.tagName.toLowerCase()==q[r]){return"pointer"}}}return t};var i=function(q){if(!g.prototype._singleton){return}if(!q){q=window.event}var r;if(this!==window){r=this}else{if(q.target){r=q.target}else{if(q.srcElement){r=q.srcElement}}}g.prototype._singleton.setCurrent(r)};var j=function(q,s,r){if(q.addEventListener){q.addEventListener(s,r,false)}else{if(q.attachEvent){q.attachEvent("on"+s,r)}}};var h=function(q,s,r){if(q.removeEventListener){q.removeEventListener(s,r,false)}else{if(q.detachEvent){q.detachEvent("on"+s,r)}}};var l=function(r,t){if(r.addClass){r.addClass(t);return r}if(t&&typeof t==="string"){var v=(t||"").split(/\s+/);if(r.nodeType===1){if(!r.className){r.className=t}else{var s=" "+r.className+" ",u=r.className;for(var w=0,q=v.length;w<q;w++){if(s.indexOf(" "+v[w]+" ")<0){u+=" "+v[w]}}r.className=u.replace(/^\s+|\s+$/g,"")}}}return r};var a=function(r,t){if(r.removeClass){r.removeClass(t);return r}if(t&&typeof t==="string"||t===undefined){var u=(t||"").split(/\s+/);if(r.nodeType===1&&r.className){if(t){var s=(" "+r.className+" ").replace(/[\n\t]/g," ");for(var v=0,q=u.length;v<q;v++){s=s.replace(" "+u[v]+" "," ")}r.className=s.replace(/^\s+|\s+$/g,"")}else{r.className=""}}}return r};var b=function(u){var t={left:0,top:0,width:u.width||u.offsetWidth||0,height:u.height||u.offsetHeight||0,zIndex:9999};var r=m(u,"zIndex");if(r&&r!="auto"){t.zIndex=parseInt(r,10)}while(u){var q=parseInt(m(u,"borderLeftWidth"),10);var s=parseInt(m(u,"borderTopWidth"),10);t.left+=isNaN(u.offsetLeft)?0:u.offsetLeft;t.left+=isNaN(q)?0:q;t.top+=isNaN(u.offsetTop)?0:u.offsetTop;t.top+=isNaN(s)?0:s;u=u.offsetParent}return t};var k=function(r){var q=g.prototype._singleton;if(q.options.useNoCache){return(r.indexOf("?")>=0?"&nocache=":"?nocache=")+(new Date).getTime()}else{return""}};var d=function(r){var s=[];if(r.trustedDomains){var q;if(typeof r.trustedDomains==="string"&&r.trustedDomains){q=[r.trustedDomains]}else{if("length" in r.trustedDomains){q=r.trustedDomains}}s.push("trustedDomain="+encodeURIComponent(q.join(",")))}if(typeof r.amdModuleId==="string"&&r.amdModuleId){s.push("amdModuleId="+encodeURIComponent(r.amdModuleId))}return s.join("&")};var o=function(s,t){if(t.indexOf){return t.indexOf(s)}for(var q=0,r=t.length;q<r;q++){if(t[q]===s){return q}}return -1};var p=function(q){if(typeof q==="string"){throw new TypeError("ZeroClipboard doesn't accept query strings.")}if(!q.length){return[q]}return q};var g=function(t,s){if(t){(g.prototype._singleton||this).glue(t)}if(g.prototype._singleton){return g.prototype._singleton}g.prototype._singleton=this;this.options={};for(var r in e){this.options[r]=e[r]}for(var q in s){this.options[q]=s[q]}this.handlers={};if(g.detectFlashSupport()){n()}};var f,c=[];g.prototype.setCurrent=function(q){f=q;this.reposition();if(q.getAttribute("title")){this.setTitle(q.getAttribute("title"))}this.setHandCursor(m(q,"cursor")=="pointer")};g.prototype.setText=function(q){if(q&&q!==""){this.options.text=q;if(this.ready()){this.flashBridge.setText(q)}}};g.prototype.setTitle=function(q){if(q&&q!==""){this.htmlBridge.setAttribute("title",q)}};g.prototype.setSize=function(r,q){if(this.ready()){this.flashBridge.setSize(r,q)}};g.prototype.setHandCursor=function(q){if(this.ready()){this.flashBridge.setHandCursor(q)}};g.version="1.2.0-beta.1";var e={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:true,amdModuleId:null};g.setDefaults=function(r){for(var q in r){e[q]=r[q]}};g.destroy=function(){g.prototype._singleton.unglue(c);var q=g.prototype._singleton.htmlBridge;q.parentNode.removeChild(q);delete g.prototype._singleton};g.detectFlashSupport=function(){var q=false;if(typeof ActiveXObject==="function"){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){q=true}}catch(r){}}if(!q&&navigator.mimeTypes["application/x-shockwave-flash"]){q=true}return q};var n=function(){var r=g.prototype._singleton;var q=document.getElementById("global-zeroclipboard-html-bridge");if(!q){var s='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+r.options.moviePath+k(r.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+r.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+d(r.options)+'"/>         <embed src="'+r.options.moviePath+k(r.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+d(r.options)+'"           scale="exactfit">         </embed>       </object>';q=document.createElement("div");q.id="global-zeroclipboard-html-bridge";q.setAttribute("class","global-zeroclipboard-container");q.setAttribute("data-clipboard-ready",false);q.style.position="absolute";q.style.left="-9999px";q.style.top="-9999px";q.style.width="15px";q.style.height="15px";q.style.zIndex="9999";q.innerHTML=s;document.body.appendChild(q)}r.htmlBridge=q;r.flashBridge=document["global-zeroclipboard-flash-bridge"]||q.children[0].lastElementChild};g.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px";this.htmlBridge.style.top="-9999px";this.htmlBridge.removeAttribute("title");this.htmlBridge.removeAttribute("data-clipboard-text");a(f,this.options.activeClass);f=null;this.options.text=null};g.prototype.ready=function(){var q=this.htmlBridge.getAttribute("data-clipboard-ready");return q==="true"||q===true};g.prototype.reposition=function(){if(!f){return false}var q=b(f);this.htmlBridge.style.top=q.top+"px";this.htmlBridge.style.left=q.left+"px";this.htmlBridge.style.width=q.width+"px";this.htmlBridge.style.height=q.height+"px";this.htmlBridge.style.zIndex=q.zIndex+1;this.setSize(q.width,q.height)};g.dispatch=function(q,r){g.prototype._singleton.receiveEvent(q,r)};g.prototype.on=function(q,t){var s=q.toString().split(/\s/g);for(var r=0;r<s.length;r++){q=s[r].toLowerCase().replace(/^on/,"");if(!this.handlers[q]){this.handlers[q]=t}}if(this.handlers.noflash&&!g.detectFlashSupport()){this.receiveEvent("onNoFlash",null)}};g.prototype.addEventListener=g.prototype.on;g.prototype.off=function(q,u){var s=q.toString().split(/\s/g);for(var r=0;r<s.length;r++){q=s[r].toLowerCase().replace(/^on/,"");for(var t in this.handlers){if(t===q&&this.handlers[t]===u){delete this.handlers[t]}}}};g.prototype.removeEventListener=g.prototype.off;g.prototype.receiveEvent=function(q,t){q=q.toString().toLowerCase().replace(/^on/,"");var u=f;switch(q){case"load":if(t&&parseFloat(t.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10){this.receiveEvent("onWrongFlash",{flashVersion:t.flashVersion});return}this.htmlBridge.setAttribute("data-clipboard-ready",true);break;case"mouseover":l(u,this.options.hoverClass);break;case"mouseout":a(u,this.options.hoverClass);this.resetBridge();break;case"mousedown":l(u,this.options.activeClass);break;case"mouseup":a(u,this.options.activeClass);break;case"datarequested":var s=u.getAttribute("data-clipboard-target"),x=!s?null:document.getElementById(s);if(x){var w=x.value||x.textContent||x.innerText;if(w){this.setText(w)}}else{var r=u.getAttribute("data-clipboard-text");if(r){this.setText(r)}}break;case"complete":this.options.text=null;break}if(this.handlers[q]){var v=this.handlers[q];if(typeof v=="function"){v.call(u,this,t)}else{if(typeof v=="string"){window[v].call(u,this,t)}}}};g.prototype.glue=function(r){r=p(r);for(var q=0;q<r.length;q++){if(o(r[q],c)==-1){c.push(r[q]);j(r[q],"mouseover",i)}}};g.prototype.unglue=function(s){s=p(s);for(var r=0;r<s.length;r++){h(s[r],"mouseover",i);var q=o(s[r],c);if(q!=-1){c.splice(q,1)}}};if(typeof module!=="undefined"){module.exports=g}else{if(typeof define==="function"&&define.amd){define(function(){return g})}else{window.ZeroClipboard=g}}})();